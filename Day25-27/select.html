<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Select_1</title>
</head>

<body>
  <select id="year-select">
    <option value="2000">2000</option>
    <option value="2001">2001</option>
    <option value="2002">2002</option>
    <option value="2003">2003</option>
    <option value="2004">2004</option>
    <option value="2005">2005</option>
    <option value="2006">2006</option>
    <option value="2007">2007</option>
    <option value="2008">2008</option>
    <option value="2009">2009</option>
    <option value="2010">2010</option>
    <option value="2011">2011</option>
    <option value="2012">2012</option>
    <option value="2013">2013</option>
    <option value="2014">2014</option>
    <option value="2015">2015</option>
    <option value="2016">2016</option>
    <option value="2017">2017</option>
    <option value="2018">2018</option>
    <option value="2019">2019</option>
    <option value="2020">2020</option>
    <option value="2021">2021</option>
    <option value="2022">2022</option>
    <option value="2023">2023</option>
    <option value="2024">2024</option>
    <option value="2025">2025</option>
    <option value="2026">2026</option>
    <option value="2027">2027</option>
    <option value="2028">2028</option>
    <option value="2029">2029</option>
    <option value="2030">2030</option>
    <option value="2031">2031</option>
    <option value="2032">2032</option>
  </select>

  <select id="month-select">
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
    <option value="8">8</option>
    <option value="9">9</option>
    <option value="10">10</option>
    <option value="11">11</option>
    <option value="12">12</option>
  </select>

  <select id="day-select">
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
    <option value="8">8</option>
    <option value="9">9</option>
    <option value="10">10</option>
    <option value="11">11</option>
    <option value="12">12</option>
    <option value="13">13</option>
    <option value="14">14</option>
    <option value="15">15</option>
    <option value="16">16</option>
    <option value="17">17</option>
    <option value="18">18</option>
    <option value="19">19</option>
    <option value="20">20</option>
    <option value="21">21</option>
    <option value="22">22</option>
    <option value="23">23</option>
    <option value="24">24</option>
    <option value="25">25</option>
    <option value="26">26</option>
    <option value="27">27</option>
    <option value="28">28</option>
    <option value="29">29</option>
    <option value="30">30</option>
    <option value="31">31</option>
  </select>

  <select id="hour-select">
    <option value="0">00</option>
    <option value="1">01</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
    <option value="8">8</option>
    <option value="9">9</option>
    <option value="10">10</option>
    <option value="11">11</option>
    <option value="12">12</option>
    <option value="13">13</option>
    <option value="14">14</option>
    <option value="15">15</option>
    <option value="16">16</option>
    <option value="17">17</option>
    <option value="18">18</option>
    <option value="19">19</option>
    <option value="20">20</option>
    <option value="21">21</option>
    <option value="22">22</option>
    <option value="23">23</option>
  </select>

  <select id="minite-select">
    <option value="0">0</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
    <option value="8">8</option>
    <option value="9">9</option>
    <option value="10">10</option>
    <option value="11">11</option>
    <option value="12">12</option>
    <option value="13">13</option>
    <option value="14">14</option>
    <option value="15">15</option>
    <option value="16">16</option>
    <option value="17">17</option>
    <option value="18">18</option>
    <option value="19">19</option>
    <option value="20">20</option>
    <option value="21">21</option>
    <option value="22">22</option>
    <option value="23">23</option>
    <option value="24">24</option>
    <option value="25">25</option>
    <option value="26">26</option>
    <option value="27">27</option>
    <option value="28">28</option>
    <option value="29">29</option>
    <option value="30">30</option>
    <option value="31">31</option>
    <option value="32">32</option>
    <option value="33">33</option>
    <option value="34">34</option>
    <option value="35">35</option>
    <option value="36">36</option>
    <option value="37">37</option>
    <option value="38">38</option>
    <option value="39">39</option>
    <option value="40">40</option>
    <option value="41">41</option>
    <option value="42">42</option>
    <option value="43">43</option>
    <option value="44">44</option>
    <option value="45">45</option>
    <option value="46">46</option>
    <option value="47">47</option>
    <option value="48">48</option>
    <option value="49">49</option>
    <option value="50">50</option>
    <option value="51">51</option>
    <option value="52">52</option>
    <option value="53">53</option>
    <option value="54">54</option>
    <option value="55">55</option>
    <option value="56">56</option>
    <option value="57">57</option>
    <option value="58">58</option>
    <option value="59">59</option>
  </select>

  <select id="second-select">
    <option value="0">0</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
    <option value="8">8</option>
    <option value="9">9</option>
    <option value="10">10</option>
    <option value="11">11</option>
    <option value="12">12</option>
    <option value="13">13</option>
    <option value="14">14</option>
    <option value="15">15</option>
    <option value="16">16</option>
    <option value="17">17</option>
    <option value="18">18</option>
    <option value="19">19</option>
    <option value="20">20</option>
    <option value="21">21</option>
    <option value="22">22</option>
    <option value="23">23</option>
    <option value="24">24</option>
    <option value="25">25</option>
    <option value="26">26</option>
    <option value="27">27</option>
    <option value="28">28</option>
    <option value="29">29</option>
    <option value="30">30</option>
    <option value="31">31</option>
    <option value="32">32</option>
    <option value="33">33</option>
    <option value="34">34</option>
    <option value="35">35</option>
    <option value="36">36</option>
    <option value="37">37</option>
    <option value="38">38</option>
    <option value="39">39</option>
    <option value="40">40</option>
    <option value="41">41</option>
    <option value="42">42</option>
    <option value="43">43</option>
    <option value="44">44</option>
    <option value="45">45</option>
    <option value="46">46</option>
    <option value="47">47</option>
    <option value="48">48</option>
    <option value="49">49</option>
    <option value="50">50</option>
    <option value="51">51</option>
    <option value="52">52</option>
    <option value="53">53</option>
    <option value="54">54</option>
    <option value="55">55</option>
    <option value="56">56</option>
    <option value="57">57</option>
    <option value="58">58</option>
    <option value="59">59</option>
  </select>

  <p id="result-wrapper">现在距离 2001年1月1日星期X HH:MM:SS 还有 X 天 X 小时 X 分 X 秒</p>
  <script>
    var sl = new Array(6),
      YYYY, MM, DD, D, HH, mm, ss, d, xxxx,
      re = document.getElementById("result-wrapper")

    for (i = 0; i < sl.length; i++) {
      sl[i] = document.querySelector("select:nth-of-type(" + (i + 1) + ")")
    }

    function getDay() {
      var t = new Date(),
        weekday = new Array(7)
      weekday[0] = "星期日"
      weekday[1] = "星期一"
      weekday[2] = "星期二"
      weekday[3] = "星期三"
      weekday[4] = "星期四"
      weekday[5] = "星期五"
      weekday[6] = "星期六"
      t.setFullYear(YYYY, (MM - 1), DD)
      return weekday[t.getDay()]
    }

    function compare() {
      var se = new Date(),
        now = new Date(),
        ds, dn
      se.setFullYear(YYYY, (MM - 1), DD)
      ds = se.setHours(HH, mm, ss, 0)
      dn = now.setMilliseconds(0)
      console.log(now);

      return (dn - ds) / 1000
    }

    function cal() {
      var D, H, m, s, c
      c = Math.abs(d)
      s = c % 60
      c = (c - s) / 60
      m = c % 60
      c = (c - m) / 60
      H = c % 24
      c = (c - H) / 24
      D = c
      return D + " 天 " + H + " 小时 " + m + " 分 " + s + " 秒"
    }

    function upDate() {
      YYYY = sl[0].options[sl[0].selectedIndex].value
      MM = sl[1].options[sl[1].selectedIndex].value
      DD = sl[2].options[sl[2].selectedIndex].value
      HH = sl[3].options[sl[3].selectedIndex].value
      mm = sl[4].options[sl[4].selectedIndex].value
      ss = sl[5].options[sl[5].selectedIndex].value
      D = getDay()
      d = compare()
      xxxx = cal()
      if (d > 0) {
        re.innerText = "现在距离 " + YYYY + "年" + MM + "月" + DD + "日" + D + " " + HH + ":" + mm + ":" + ss + " 已经过去 " +
          xxxx
      } else {
        re.innerText = "现在距离 " + YYYY + "年" + MM + "月" + DD + "日" + D + " " + HH + ":" + mm + ":" + ss + " 还有 " + xxxx

      }
    }

    function range() {
      var y = sl[0].options[sl[0].selectedIndex].value
      switch (parseInt(sl[1].options[sl[1].selectedIndex].value)){
        case 1, 3, 5, 7, 8, 10, 12:
          alert("111")
          for (i = 28; i <= 30; i++) {
            sl[2].options[i].disabled = false
          }
          break
        case 4, 6, 9, 11:
          for (i = 28; i <= 29; i++) {
            sl[2].options[i].disabled = false
          }
          sl[2].options[30].disabled = true
          break
        case 2:
          if (y % 100 == 0) {
            if (y % 400 == 0) {
              for (i = 29; i <= 30; i++) {
                sl[2].options[i].disabled = true
              }
              sl[2].options[28].disabled = false
            } else
              for (i = 28; i <= 30; i++) {
                sl[2].options[i].disabled = true
              }
          } else if (y % 4 == 0) {
            for (i = 29; i <= 30; i++) {
              sl[2].options[i].disabled = true
            }
            sl[2].options[28].disabled = false
          } else
            for (i = 28; i <= 30; i++) {
              sl[2].options[i].disabled = true
            }
          break
        default:
          break
      }
    }
    for (i = 0; i < sl.length; i++) {
      sl[i].onchange = function () {
        range()
        upDate()
      }
    }
  </script>
</body>

</html>